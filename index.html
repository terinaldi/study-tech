<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Study Tech</title>
  <link rel="manifest" href="manifest.json"/>
  <meta name="theme-color" content="#8B0000"/>
  <!-- iOS home screen support -->
  <link rel="apple-touch-icon" href="icon.png">
  <link rel="apple-touch-icon" sizes="180x180" href="icon.png">
  <link rel="apple-touch-icon" sizes="512x512" href="icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Study Tech">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #fff;
      color: #222;
      line-height: 1.6;
      font-size: 17px; /* comfortable for phone reading */
    }
    header {
      background: linear-gradient(to bottom, #A52A2A, #8B0000);
      color: white;
      text-align: center;
      padding: 2.5rem 1rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    h1 {
      margin: 0;
      font-size: 2.4rem;
      font-weight: 600;
    }
    .container {
      max-width: 960px;
      margin: 0 auto;
      padding: 1.5rem;
    }
    h2 {
      color: #8B0000;
      font-size: 1.9rem;
      border-bottom: 3px solid #A52A2A;
      padding-bottom: 0.5rem;
      margin: 2rem 0 1rem;
    }
    h3 {
      color: #A52A2A;
      font-size: 1.6rem;
      margin: 1.8rem 0 1rem;
    }
    .barrier-btn {
      display: block;
      width: 100%;
      padding: 1.3rem 1rem;
      margin: 1.2rem 0;
      background: #8B0000;
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1.35rem;
      font-weight: 500;
      cursor: pointer;
      text-align: left;
      transition: all 0.25s ease;
      box-shadow: 0 3px 8px rgba(139,0,0,0.2);
    }
    .barrier-btn:hover {
      background: #A52A2A;
      transform: translateY(-2px);
    }
    .page {
      display: none;
      background: #fff;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 18px rgba(0,0,0,0.08);
    }
    ol, ul {
      padding-left: 1.8rem;
      margin: 1rem 0;
    }
    li {
      margin-bottom: 0.9rem;
      font-size: 1.05rem;
    }
    strong {
      color: #8B0000;
    }
    #dict-section {
      margin-top: 2.5rem;
      padding: 1.8rem;
      background: #fdfdfd;
      border-radius: 16px;
      border: 1px solid #eee;
      box-shadow: 0 4px 18px rgba(139,0,0,0.08);
    }
    #word-input {
      width: 100%;
      padding: 1rem;
      font-size: 1.2rem;
      margin-bottom: 1rem;
      border: 2px solid #ccc;
      border-radius: 10px;
      box-sizing: border-box;
    }
    #search-btn {
      background: #8B0000;
      color: white;
      border: none;
      padding: 1rem 2rem;
      border-radius: 10px;
      font-size: 1.15rem;
      cursor: pointer;
      transition: background 0.3s;
    }
    #search-btn:hover { background: #A52A2A; }
    #result { margin-top: 1.5rem; font-size: 1.05rem; }
    .pos {
      font-weight: bold;
      color: #8B0000;
      text-transform: capitalize;
      margin: 1.4rem 0 0.6rem;
      font-size: 1.3rem;
    }
    p { margin: 0.9rem 0; font-size: 1.05rem; }
  </style>
</head>
<body>
  <header>
    <h1>Welcome to Study Tech!</h1>
  </header>

  <div class="container">
    <div id="main-content">
      <section>
        <h2>The Study Barriers</h2>
        <p>Tap each barrier to learn more about what can block effective study.</p>
        <button class="barrier-btn" onclick="showPage('intro')">Intro: The Barriers to Study</button>
        <button class="barrier-btn" onclick="showPage('mass')">1. Absence of Mass</button>
        <button class="barrier-btn" onclick="showPage('gradient')">2. Skipped Gradient</button>
        <button class="barrier-btn" onclick="showPage('word')">3. Misunderstood Word</button>
      </section>

      <section>
        <h2>Word Clearing</h2>
        <button class="barrier-btn" onclick="showPage('why-clear')">Why Clear Your Words?</button>
        <button class="barrier-btn" onclick="showPage('how-to-clear')">How to Clear a Word</button>
        <button class="barrier-btn" onclick="showPage('help-another')">How to Help Another Clear Words</button>
      </section>

      <section id="study-tools">
        <h2>Study Tools</h2>
        <div id="dict-section">
          <h3>Built-in Dictionary</h3>
          <p>Simple lookup: definitions + origin/derivation when available.</p>
          <input type="text" id="word-input" placeholder="Enter a word (e.g., hello)" />
          <button id="search-btn">Look Up</button>
          <div id="result"></div>
        </div>
      </section>
    </div>

    <!-- New pages -->
    <div id="why-clear" class="page">
      <h2>Why Clear Your Words?</h2>
      <p>Basic Word Clearing is the method of finding a misunderstood word by looking earlier in the text than where you are having trouble.</p>
      <p>When studying something, it is important to know how to keep yourself moving along and doing well. To be a successful student, you should look up each word you come to that you don’t understand. Never leave a word behind you that you don’t know the meaning of.</p>
      <p>But if you ever run into trouble while studying, you would use Basic Word Clearing to help you find and handle the misunderstood word that stopped your successful study progress. Anyone helping you with your studies would use this method and you can also use it to help anyone else.</p>
      <p>As soon as you slow down or you don’t feel quite as “bright” as you did fifteen minutes ago, that is the time to use Basic Word Clearing and look for the misunderstood word.</p>
      <p>Don’t wait until you start feeling half asleep or are actually falling asleep while studying something. That is waiting far too long to find and clear the misunderstood word. You went past a word you did not fully understand long before you started to feel sleepy.</p>
      <p>If you have ever seen another person falling asleep while reading a book, then you have seen what happens well after the person went blank from passing a misunderstood word.</p>
      <p>And remember that it is not a group of words or an idea that was misunderstood; it is a misunderstood word. Going past a misunderstood word is always what happens first. It’s what happens before a whole subject is misunderstood.</p>
      <button class="barrier-btn" onclick="showPage('main')">Back to Main</button>
    </div>

    <div id="how-to-clear" class="page">
      <h2>How to Clear a Word</h2>
      <p>Basic Word Clearing is done as follows:</p>
      <ol>
        <li>You realize that you are not moving along on your studies as fast as you were or that you are not as bright as you were earlier. It might also be one of the following:
          <ul>
            <li>You are just not as interested in what you are studying.</li>
            <li>You are taking too long to get through something.</li>
            <li>You might be yawning.</li>
            <li>You might be doodling (scribbling or making patterns or designs with a pen or pencil).</li>
            <li>You might be daydreaming, etc.</li>
          </ul>
        </li>
        <li>As soon as this happens, you must stop and look earlier in what you were studying and find the misunderstood word. There will always be one there and you must find it. There are no exceptions. It may be that the misunderstood word is two pages or more before the place where you stopped studying. But it is always earlier in the text than where you are now.</li>
        <li>You find the word. You may recognize it while looking back for it, but if you can’t find it, you or the person helping you with your study can pick out words from what you were reading that could be the misunderstood word. Someone helping you can ask, “What does ______ mean?” to see if you give the correct definition.</li>
        <li>When you have found the misunderstood word, you look it up in a dictionary and clear it per the Steps to Clear a Word section of this course. You look up and clear the definition that fits the context. You use it in sentences that you make up, until you fully understand it. Then you clear each of the listed definitions and use each of them several times in sentences until you fully understand the word. You then clear the derivation and any idioms or synonyms, etc.</li>
        <li>Now that you have a full understanding of the word, you go back to what you were reading and once again read the part that contained the misunderstood word. If you are still not “bright,” wanting to get on with it and feeling happier about it, then there is another misunderstood word earlier in the text. You must find it and clear it by repeating steps 2 to 5 above.</li>
        <li>When you feel bright and enthusiastic again, that is the end result of Basic Word Clearing. (The result won’t be achieved if a word you did not understand was missed or if there is an earlier misunderstood word in the text. If this happens, repeat steps 2 to 5.) If you are now enthusiastic, continue studying the text from where the misunderstood was found and cleared.</li>
      </ol>
      <p><strong>In summary, the steps of Basic Word Clearing are as follows:</strong></p>
      <ul>
        <li>a. Find out where you weren’t having any trouble.</li>
        <li>b. Find out where you are now having trouble.</li>
        <li>c. The misunderstood word will be right at the end of where you weren’t having trouble. It will be right in that immediate area. You can pinpoint it.</li>
      </ul>
      <button class="barrier-btn" onclick="showPage('main')">Back to Main</button>
    </div>

    <div id="help-another" class="page">
      <h2>How to Help Another Clear Words</h2>
      <h3>Simple Reading Aloud Word Clearing</h3>
      <p>Whenever you are assisting children, people who speak a foreign language or someone who is not able to read or write well, you can use Simple Reading Aloud Word Clearing to help them.</p>
      <p>The person is made to read aloud so you can find out what he is doing. The most surprising things can happen, such as the following:</p>
      <ul>
        <li>a. The person can leave out a word completely.</li>
        <li>b. He can change a word to say something else.</li>
        <li>c. He can hesitate when he sees certain words.</li>
      </ul>
      <p>Simple Reading Aloud Word Clearing is done following the steps listed below. You and the person who will be reading both have a copy of the same book or text in front of you.</p>
      <p>When you are working with another person and doing the steps of Simple Reading Aloud Word Clearing on that person, you are called the “word clearer” because you are helping him to find and clear his misunderstood words. The person who is reading the text aloud and receiving Word Clearing is referred to as the “student.”</p>
      <p><strong>PROCEDURE</strong></p>
      <ol>
        <li>You tell the student to read the text aloud while you follow along, reading the copy of the material in front of you.</li>
        <li>Each time he leaves out or changes a word or hesitates or frowns as he reads a word, take it up at once.</li>
        <li>Correct it by looking up the word he left out or changed or hesitated or frowned while reading. Find the definition for him in a dictionary or explain it to him.</li>
        <li>When you have cleared up the meaning of the word, get the student to go back to the book or material and carry on reading and note the next time he leaves out or changes a word or hesitates or frowns.</li>
      </ol>
      <p>Each time this happens, you repeat steps 2 to 4 above.</p>
      <p>By doing Simple Reading Aloud Word Clearing, you can help someone who is moving along slowly while studying and also help the person to improve his ability to read.</p>
      <p>After doing Simple Reading Aloud Word Clearing, the person’s next step would be to learn how to use a dictionary to look up and clear the meaning of words himself as he goes along.</p>
      <button class="barrier-btn" onclick="showPage('main')">Back to Main</button>
    </div>

    <!-- Existing barrier pages (kept short for brevity here; copy your previous versions if needed) -->
    <div id="intro" class="page">... [your existing intro content] ...</div>
    <div id="mass" class="page">... [your existing mass content] ...</div>
    <div id="gradient" class="page">... [your existing gradient content] ...</div>
    <div id="word" class="page">... [your existing misunderstood word content] ...</div>
  </div>

  <script>
    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(el => el.style.display = 'none');
      document.getElementById('main-content').style.display = 'none';

      if (pageId === 'main') {
        document.getElementById('main-content').style.display = 'block';
      } else {
        document.getElementById(pageId).style.display = 'block';
      }
    }
    showPage('main');

    document.getElementById('search-btn').addEventListener('click', async () => {
      const word = document.getElementById('word-input').value.trim().toLowerCase();
      if (!word) {
        alert('Please enter a word!');
        return;
      }
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = '<p>Loading...</p>';

      try {
        const res = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`);
        if (!res.ok) throw new Error('Not found');
        const data = await res.json();
        const entry = data[0];

        let html = `<h3>${entry.word}${entry.phonetic ? ` <small>(${entry.phonetic})</small>` : ''}</h3>`;

        if (entry.origin && entry.origin.trim()) {
          html += `<p><strong>Derivation/Origin:</strong> ${entry.origin}</p>`;
        } else {
          html += `<p><em>Derivation not listed in this entry</em></p>`;
        }

        entry.meanings.forEach(meaning => {
          const pos = meaning.partOfSpeech.charAt(0).toUpperCase() + meaning.partOfSpeech.slice(1);
          html += `<p class="pos">${pos}</p>`;
          meaning.definitions.slice(0, 2).forEach((def, index) => {
            html += `<p>${index + 1}. ${def.definition}`;
            if (def.example) html += ` <em>(e.g., ${def.example})</em>`;
            html += `</p>`;
          });
        });

        resultDiv.innerHTML = html;
      } catch (err) {
        resultDiv.innerHTML = '<p style="color: #8B0000;">Word not found or no connection. Try another!</p>';
      }
    });

    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js').catch(() => {});
      });
    }
  </script>
</body>
</html>
